

## 데이터베이스 기본개념 정리



### 데이터베이스의 특성

1) 내용에 의한 참조(Content Reference) - 데이터를 참조할 때 데이터의 레코드의 주소나 위치에 의해서가 아니라, 사용자가 요구하는 데이터 내용으로 데이터를 찾음
2) 실시간 접근성(real Time Accessibility) - 실시간으로 요구에 응답 가능

3. 계속적인 변화(Continuous Evolution) - 새로운 데이터의 삽입, 삭제, 변경이 가능
4. 동시 공용(Concurrent Sharing) - 다수의 사용자가 동시에 같은 자료를 이용할 수 있음

** concurrent : 어떤 알고리즘 혹은 프로그램이 순서에 상관없이 동시에 수행할 수 있으면 concurrent함



### 데이터베이스 용어

* 테이블 스키마(Table Schema) - 테이블을 정의하기 위해 만들어진 데이터 구조

  * 설계 과정에서 정의되며 데이터의 구조 및 제약 조건들까지 포함됨, 스키마 다이어그램으로 표현됨
  * schema - 개요, outline, summary, abstract의 뜻을 가짐, 메타 데이터의 다른 용어
  * ex) 신입생(학번, 주민번호, 이름, 주소, 나이)

* 테이블 인스턴스(Table Instance)- 테이블 스키마에 실제 데이터를 레코드 형태로 저장한 상태

  * 테이블의 특성
    * 중복된 레코드 존재 X -> 테이블 인스턴스는 레코드들의 집합이기 때문
    * 레코드 간 순서는 의미 X -> 테이블 인스턴스는 레코드들의 집합이기 때문
    * 레코드 내 필드의 순서는 의미 X -> 테이블 스키마는 필드들의 집합이기 때문
    * 모든 필드는 원자값을 가짐
    * 위에 설명된 특징은 테이블의 논리적 특징이며 물리적인 특성은 아님

* 관계(relation) - 개체(entity) 간의 관계와 개체(entity)와 속성(attirbute)와의 관계, 테이블과 동일한 개념 

* 키(key)
  * 식별자(identifier) - 관계형 db에서 각각의 entity를 구분할 수 있는 논리적인 개념, super key라고도 함, 테이블에 존재하는 필드들의 부분집합으로 유일성을 만족해야 함

    - 식별자의 특성

      - 유일성: 하나의 relation(=table)에서 모든 행은 서로 다른 키 값을 가져야 함, 또한 key 값은 null이 될 수 없음

      - 최소성: 꼭 필요한 최소한의 속성(attribute)들로만 키를 구성해야 함

        예를 들어 고객을 구분하는데 주민번호를 쓴다고 하면, 연령이나 성별은 굳이 안써도 됨

  * 외래키(foreign key) - 다른 테이블의 기본키(primary key)를 참조하는 필드 집합

    * 두 스키마에 대해 스키마A의 기본키를 스키마B가 외래키로 참조하려면

      A의 기본키 필드와 B의 외래키 필드가 동일한 도메인을 가져야 함

      B의 각 레코드들은 A와 일치하거나 null 값을 가져야 함

    * 외래 키의 참조 무결성을 지키기 위한 기능
      * RESTRICTED: 레코드를 변경, 삭제하고자 할 때 해당 레코드를 참조하고 있는 개체가 있다면, 변경 혹은 삭제 취소
      * CASCADE: 레코드를 변경 또는 삭제하면 해당 레코드를 참조하고 있는 개체도 변경 혹은 삭제됨
      * SET NULL: 레코드를 변경 또는 삭제하면 해당 레코드를 참조하고 있는 개체의 값을 NULL롤 설정함
  
  * 후보키(Candidate key) - 전체 필드의 부분 집합으로써, 유일성(중복되지 않음)과 최소성(최소한의 필드로 레코드를 구별)을 만족해야 함
  * 복합키(Composite key) - 한 개 이상의 필드를 포함하는 키를 복합키라고 함
  
* 튜플(tuple) - 테이블(relation)에서 행을 의미함, record, row, entity라고도 함

* 튜플은 테이블 내에서 같은 값을 가질 수 없음

* 튜플의 수는 Cardinality라고 함

* 속성(attribute) - 테이블(relation)에서 열을 의미함, field라고도 함

  * 속성의 수는 Degree라고 함

* 도메인(domain) - 각 필드에 입력 가능한 값들의 범위, 즉 각 필드가 가질 수 있는 모든 값들의 집합(한 column의 값을 모두 포함한 집합)

### DBMS(DataBase Management System)란?

- 사용자와 DB사이에서 사용자의 요구에 따라 데이터를 생성해주고 DB를 관리해주는 소프트웨어
- 데이터를 계층 또는 탐색 형식으로 저장 -> 파일 시스템을 사용해 저장함으로 테이블 간 아무런 관계가 없음
- 데이터에 대한 정규화를 수행할 수 없어 데이터는 높은 중복성을 가질 수도 있음

### 관계형 데이터베이스란(Relational DBMS)?

* 하나 이상의 2차원 테이블로 실 데이터를 표현한 데이터베이스

  -> 테이블이 서로 연관되어 있어 일반 dbms보다 효율적으로 데이터를 저장, 구성, 관리함

  -> 데이터의 무결성이 높은 편

* SQL을 사용하여 데이터를 저장, 검색, 수정, 삭제함

### 데이터 무결성

* 정의: 데이터의 정확성, 일관성, 유효성이 유지되는 것을 말함 -> 질 높고 모델링에 문제가 없는 데이터를 만들기 위해 피룡함

* 무결성의 종류

  1. 개체 무결성(Entity Integrity): 모든 테이블이 기본 키(primary key)로 선택된 필드(column)을 가져야 함. 기본 키로 선택된 필드는 고유한 값을 가지며 빈 값은 허용하지 않음 -> pk에 대한 무결성

  2. 참조 무결성(Referential integrity): 참조 관계에 있는 두 테이블의 데이터가 항상 일관된 값을 갖도록 유지되는 것

     ex) 외래키가 참조하고 있던 부모 테이블의 키 항목에서 값이 지워지거나, 값이 없다고 하면 참조 무결성이 깨지게 됨

  3. 도메인 무결성(Domain integrity): 테이블에 존재하는 필드의 무결성을 보장하기 위함 -> Null 값의 허용, 필드의 타입을 정의하고 올바르게 입력 되었는지를 확인함으로써 도메인 무결성을 보장할 수 있음

     ex) 주민등록번호 필드에 알파벳이 입력되는 경우 도메인 무결성이 깨짐

  4. 무결성 규칙(Integrity Rule): 데이터의 무결성을 지키기 위한 모든 제약 사항을 말함.

     데이터베이스 전체에 공통적으로 적용되는 규칙



### 스키마 아키텍처(Schema Architecture)

![schema image](.\image\스키마설명.PNG)

* 데이터베이스 스키마를 내부단계, 논리단게, 외부단계로 구분하여 사용자에게 하부 스키마의 세부 사항을 감추고 해당 스키마의 구조에만 관심을 갖도록 함

   1. 논리 단계(논리 스키마) - 전체 데이터베이스의 논리적 구조를 기술

   2. 내부 단계(내부 스키마) - 데이터베이스의 물리적 구조를 기술

   3. 외부 단계(외부 스키마) - 사용자 그룹들의 DB에 대한 시각

      

### View의 개념

* 다른 테이블을 기반으로 만들어진 가상의 테이블을 의미함

* 실제로 데이터를 저장하고 있지 않으며 논리적으로 존재함, but 실제로 데이터가 존재하는 테이블과 동일하게 뷰를 조작할 수 있음

  -> 그렇다면 왜 view를 써야만 하나?

  * 데이터의 저장 구조나 처리 방식이 변경되어도 응용 프로그램에 영향을 주지 않도록 하는 데이터 독립성의 구현을 위해서임
    * 논리적 데이터 독립성: 각각의 응용 프로그램들이 서로 영향을 받지 않으면서 응용 프로그램이 원하는 논리적 구조를 제공할 수 있는 능력
    * 물리적 데이터 독립성: 응용 프로그램에 영향을 미치지 않고 데이터의 물리적 구조를 변경할 수 있는 능력

* VIew는 실제 데이터를 저장하지 않는 가상의 테이블이지만 검색, 삽입, 수정, 삭제 연산이 가능함

  but 몇가지 제약 사항을 갖게됨

  * 자신을 생성하기 위해 이용된 테이블의 기본 키를 포함하고 있어야 연산이 가능함

  * 뷰의 필드가 상수, 내장 함수, Group by 키워드로부터 유도되었다면, 해당 뷰는 연산이 불가능함

  * 다수의 테이블을 JOIN하여 생성한 뷰는 연산이 불가능함

  * 연산을 적용할 수 없는 뷰에서 생성된 뷰 또한 연산이 불가능함

    -> 아마 db의 물리적 구조를 따라야하기 때문에 이런 제약이 있는 거 같음



### 함수 종속성(Functional Dependency)



* 정규화(normalization) : RDBMS 설계에서 중복된 데이터가 최소화되도록 데이터베이스의 구조를 결정하는 것

* 함수 종속성이란 수학에서의 함수와 같이 두 필드의 집합이 many-to-one 관계로 사상되는 것을 뜻함

  -> 어떠한 값을 통해 종속 관계에 있는 다른 값을 유일하게 결정할 수 있다는 것

  ex) 어떤 테이블 R에 존재하는 필드들의 부분집합을 각각 X, Y라고 할 때, X의 한 값이 Y에 속한 오직 하나의 값에만 사상될 경우에 "Y는 X에 함수 종속(Y is functionally dependent on X)"라고 하며 X-> Y라고 표기함

  ** 이걸 보면 알 수 있는게 RDBMS는 완전 수학적으로 정의됨(특히 선형대수의 개념이 많이 들어감)

* 







reference:

1) https://brenden.tistory.com/39?category=749502
2) https://coding-factory.tistory.com/214

3. https://nolja98.tistory.com/m/12
4. https://m.blog.naver.com/cjhol2107/221758915414
5. http://junil-hwang.com/blog/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-database-system/
6. https://untitledtblog.tistory.com/124?category=714634
